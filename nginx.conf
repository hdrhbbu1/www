events {
  worker_connections 8000;
}

http {
  server {
    root /usr/share/nginx/html;
    error_page 404 /404.html;
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    types {
      text/html html;
      text/css css;
      text/xml xml rss atom;
      application/x-javascript js;
      image/gif gif;
      image/jpeg jpeg jpg;
    }
    gzip on;
    gzip_types text/css text/xml application/x-javascript;

    location ~* \.(?:manifest|appcache|html?|xml|json)$ {
      expires -1;
    }

    location ~* \.(?:rss|atom)$ {
      expires 1h;
      add_header Cache-Control "public";
    }

    location ~* \.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ {
      expires 1M;
      add_header Cache-Control "public";
    }

    location ~* /sw.js {
      expires off;
    }

    location ~* \.(?:css|js)$ {
      expires 1y;
      add_header Cache-Control "public";
    }

    location ~ \.(aspx|php|jsp|cgi)$ {
      return 410;
    }

    location ^~ /notebook(.*) {
      return 301 $scheme://$http_host/$1$is_args$query_string;
    }

    location = /its-not-about-your-tools/ {
      return 301 /2013-04/its-not-about-your-tools/;
    }
    location = /speculative-work-is-bad-for-everyone/ {
      return 301 /2012-08/speculative-work-is-bad-for-everyone/;
    }
    location = /hit-send-smart-email-marketing/ {
      return 301 /2012-12/hit-send-smart-email-marketing/;
    }
    location = /new-years-dissolution/ {
      return 301 /2013-01/new-years-dissolution/;
    }
    location = /hard-reboot/ {
      return 301 /2012-11/hard-reboot/;
    }
    location = /remixed-again/ {
      return 301 /2013-04/remixed-again/;
    }
    location = /creative-guard-rails/ {
      return 301 /2012-12/creative-guard-rails/;
    }
    location = /urbanscapes-beauty-in-the-broken/ {
      return 301 /2013-04/urbanscapes-beauty-in-the-broken/;
    }
    location = /our-instagram-life/ {
      return 301 /2013-06/our-instagram-life/;
    }
    location = /art-is-greyscale/ {
      return 301 /2013-04/art-is-greyscale/;
    }
    location = /drobo-a-nightmare-come-true/ {
      return 301 /2015-02/drobo-a-nightmare-come-true/;
    }
    location = /introducing-the-machine/ {
      return 301 /2013-08/introducing-the-machine/;
    }
    location = /migrating-from-feedburner-a-helpful-guide/ {
      return 301 /2014-01/migrating-from-feedburner-a-helpful-guide/;
    }
    location = /embracing-javascript/ {
      return 301 /2014-04/embracing-javascript/;
    }
    location = /write-code-and-get-back-to-doing-what-you-love/ {
      return 301 /2014-06/write-code-and-get-back-to-doing-what-you-love/;
    }
    location = /painless-keyboarding/ {
      return 301 /2015-12/painless-keyboarding/;
    }
    location = /whats-in-a-title/ {
      return 301 /2016-01/whats-in-a-title/;
    }
    location = /distill/ {
      return 301 /2014-05/distill/;
    }
    location = /life-behind-the-microphone/ {
      return 301 /2015-09/life-behind-the-microphone/;
    }
    location = /apples-power-play/ {
      return 301 /2016-01/apples-power-play/;
    }
    location = /be-kind-rewind/ {
      return 301 /2016-01/be-kind-rewind/;
    }
    location = /dad-jokes/ {
      return 301 /2016-01/dad-jokes/;
    }
    location = /sloan-alexis/ {
      return 301 /2016-01/sloan-alexis/;
    }
    location = /the-diary-of-an-angry-white-privileged-male/ {
      return 301 /2016-03/the-diary-of-an-angry-white-privileged-male/;
    }
    location = /state-js-2016-javascript-here-and-now/ {
      return 301 /2016-01/state-js-2016-javascript-here-and-now/;
    }
    location = /dont-solve-everything-today/ {
      return 301 /2016-03/dont-solve-everything-today/;
    }
    location = /build-for-yourself/ {
      return 301 /2016-03/build-for-yourself/;
    }
    location = /going-west/ {
      return 301 /2016-04/going-west/;
    }
    location = /the-ex-residents-guide-to-chicago/ {
      return 301 /2016-05/the-ex-residents-guide-to-chicago/;
    }
    location = /life-on-the-inside/ {
      return 301 /2016-05/life-on-the-inside/;
    }
    location = /dads-change-diapers-too/ {
      return 301 /2016-07/dads-change-diapers-too/;
    }
    location = /no-you-cannot-pick-my-brain/ {
      return 301 /2016-04/no-you-cannot-pick-my-brain/;
    }
    location = /ignorant-advice/ {
      return 301 /2016-06/ignorant-advice/;
    }
    location = /losant-the-iot-platform-for-everyone/ {
      return 301 /2016-09/losant-the-iot-platform-for-everyone/;
    }
    location = /life-on-the-inside-part-ii/ {
      return 301 /2016-06/life-on-the-inside-part-ii/;
    }
    location = /becoming-disabled/ {
      return 301 /2017-05/becoming-disabled/;
    }
    location = /about-trump/ {
      return 301 /2016-12/about-trump/;
    }
    location = /history-in-the-making/ {
      return 301 /2016-11/history-in-the-making/;
    }
    location = /what-i-wish-you-understood-about-my-chronic-illness/ {
      return 301 /2017-05/what-i-wish-you-understood-about-my-chronic-illness/;
    }
  }
}
